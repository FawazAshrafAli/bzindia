
{% extends "admin_base/base.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}Update Custom Page{% endblock title %}

{% block content %}

<!-- Page Content -->
<div class="content container-fluid">
	
	<!-- Page Header -->
	<div class="crms-title row bg-white mb-4">
		<div class="col  p-0">
			<h3 class="page-title">
			<span class="page-title-icon bg-gradient-primary text-white me-2">
				<i class="la la-columns"></i>
			</span> Update About Us Page </h3>
		</div>       
		<div class="col p-0 text-end">
			<ul class="breadcrumb bg-white float-end m-0 ps-0 pe-0">
				<li class="breadcrumb-item"><a href="index.html">About Us Page</a></li>
				<li class="breadcrumb-item active">Update Custom Page</li>
			</ul>
		</div>
	</div>
	<!-- /Page Header -->
	
    <div class="settings-menu-links">
        <ul class="nav nav-tabs menu-tabs">							
            <li class="nav-item {% if current_custom_page == "About Us" %}active{% endif %}">
                <a class="nav-link" href="{% url 'superadmin:about_us' %}">About Us</a>
            </li>
            <li class="nav-item {% if current_custom_page == "Contact Us" %}active{% endif %}">
                <a class="nav-link" href="{% url 'superadmin:contact_us' %}">Contact Us</a>
            </li>
            <li class="nav-item {% if current_custom_page == "FAQ" %}active{% endif %}">
                <a class="nav-link" href="{% url 'superadmin:faq' %}">FAQ</a>
            </li>
            <li class="nav-item {% if current_custom_page == "Privacy Policy" %}active{% endif %}">
                <a class="nav-link" href="{% url 'superadmin:privacy_policies' %}">Privacy Policy</a>
            </li>
            <li class="nav-item {% if current_custom_page == "Terms And Conditions" %}active{% endif %}">
                <a class="nav-link" href="{% url 'superadmin:terms_and_conditions' %}">Terms &amp; Conditions</a>
            </li>
            <li class="nav-item {% if current_custom_page == "Shipping And Delivery Policy" %}active{% endif %}">
                <a class="nav-link" href="{% url 'superadmin:shipping_and_delivery_policies' %}">Shipping &amp; Delivery Policy</a>
            </li>
            <li class="nav-item {% if current_custom_page == "Cancellation And Refund Policy" %}active{% endif %}">
                <a class="nav-link" href="{% url 'superadmin:cancellation_and_refund_policies' %}">Cancellation &amp; Refund Policy</a>
            </li>
        </ul>
    </div>

	<!-- Content Starts -->
    <div class="row">
        {% if messages %}
            <ul class="messages">
                {% for message in messages %}
                    <li {% if message.tags %} class="{{ message.tags }}" {% endif %}>{{ message }}</li>
                {% endfor %}
            </ul>
        {% endif %}

        <div class="col-lg-12">
            <form method="post" action="{% url 'superadmin:update_about_us' about_us.slug %}" class="needs-validation" enctype="multipart/form-data" id="update-about-us-page-form" novalidate>
                {% csrf_token %}
                {{ about_us_form.media }}

                <div class="card">
                    <div class="card-header">
                        <h4 class="card-title mb-0">About Us ({% if about_us.company %}{{about_us.company}}{% else %}BZIndia{% endif %})</h4>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-12 mb-3">
                                {{ form|crispy }}
                            </div>
                        </div>                            
                    </div>

                    <div class="text-center">
                        <button type="submit" class="btn btn-primary" id="submit-button">Submit</button>
                    </div>
                </div>
            </form>

	<!-- /Content End -->
	
</div>
<!-- /Page Content -->
				
{% endblock content %}

{% block scripts %}
<script src="https://cdn.ckeditor.com/4.22.1/standard/ckeditor.js"></script>
<script>

    $(document).ready(() => {
        
        function validateForm() {  
            const data = {}   
            const formValid = true       

            const company = $('#company-input').val().trim();

            if (!company) {
                $('#company-input').addClass('is-invalid');
                $('#company-input').focus();
                formValid = false;

            } else {
                $('#company-input').addClass('is-valid');
                $('#company-input').blur();

                data["company"] = company
            }                                    

            if (formValid == true) {
                $('#update-about-us-page-form').submit()
            }
            
        }        

        $('#submit-button').click(validateForm);

    })
</script>
{% endblock scripts %}